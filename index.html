<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì •í•˜ê¸° ê²Œì„ - ë£°ë ›</title>
<style>
body {
  margin:0;
  font-family:"Pretendard","Noto Sans KR",sans-serif;
  background:#ffffff;
  color:#000;
  text-align:center;
}
header {
  padding:20px;
  background:#f0f0f0;
  border-bottom:3px solid #000;
  font-size:28px;
  font-weight:bold;
}
.name-input {
  margin:5px;
  padding:10px;
  width:70%;
  max-width:250px;
  border-radius:8px;
  border:1px solid #000;
  font-size:16px;
}
.menu-btn {
  width:80%;
  max-width:280px;
  padding:15px;
  margin:15px auto;
  border:none;
  border-radius:12px;
  font-size:20px;
  background:#000;
  color:white;
  cursor:pointer;
  transition:0.25s;
}
.menu-btn:hover {
  background:#333;
  transform:scale(1.05);
}
.roulette-container {
  margin:30px auto;
  width:300px;
  height:300px;
  position:relative;
}

/* ğŸ”¥ í•€ì„ ì›ì˜ ì˜¤ë¥¸ìª½ì— ë°°ì¹˜ */
.pointer {
  width:0;
  height:0;
  border-top:20px solid transparent;
  border-bottom:20px solid transparent;
  border-left:50px solid red;  /* ì™¼ìª½ì„ í–¥í•˜ëŠ” í•€ */
  position:absolute;
  top:calc(50% - 20px);
  right:-50px;    /* ì˜¤ë¥¸ìª½ì— ìœ„ì¹˜ */
}

#rouletteCanvas {
  width:100%;
  height:100%;
  border-radius:50%;
  transition: transform 4s cubic-bezier(0.33,1,0.68,1);
}

#rouletteResult {
  margin-top:20px;
  font-size:22px;
  font-weight:bold;
}
</style>
</head>
<body>

<header>ì •í•˜ê¸° ê²Œì„ - ë£°ë ›</header>

<h2>ì´ë¦„ ì…ë ¥ (2~10ëª…)</h2>

<div id="nameInputs">
  <input class="name-input" id="r1" placeholder="ì´ë¦„ 1">
  <input class="name-input" id="r2" placeholder="ì´ë¦„ 2">
  <input class="name-input" id="r3" placeholder="ì´ë¦„ 3">
  <input class="name-input" id="r4" placeholder="ì´ë¦„ 4">
  <input class="name-input" id="r5" placeholder="ì´ë¦„ 5">
  <input class="name-input" id="r6" placeholder="ì´ë¦„ 6">
  <input class="name-input" id="r7" placeholder="ì´ë¦„ 7">
  <input class="name-input" id="r8" placeholder="ì´ë¦„ 8">
  <input class="name-input" id="r9" placeholder="ì´ë¦„ 9">
  <input class="name-input" id="r10" placeholder="ì´ë¦„ 10">
</div>

<button class="menu-btn" onclick="spinRoulette()">ğŸ¯ ë£°ë › ëŒë¦¬ê¸°</button>

<div class="roulette-container">
  <canvas id="rouletteCanvas" width="300" height="300"></canvas>
  <div class="pointer"></div>
</div>

<div id="rouletteResult"></div>

<script>
const rColors=["#27ae60","#c0392b","#f1c40f","#2980b9","#e67e22","#9b59b6",
"#1abc9c","#e74c3c","#f39c12","#34495e"];
let rNames=[];

function drawRoulette(names){
  rNames = names;
  const c=document.getElementById("rouletteCanvas");
  const ctx=c.getContext("2d");
  const len=names.length;
  const arc=(2*Math.PI)/len;

  ctx.clearRect(0,0,c.width,c.height);

  for(let i=0;i<len;i++){
    ctx.beginPath();
    ctx.fillStyle=rColors[i];
    ctx.moveTo(c.width/2,c.height/2);
    ctx.arc(c.width/2,c.height/2,c.width/2,arc*i,arc*(i+1));
    ctx.fill();

    ctx.save();
    ctx.translate(c.width/2,c.height/2);
    ctx.rotate(arc*(i+0.5));
    ctx.fillStyle="#000";
    ctx.font="14px Pretendard";
    ctx.fillText(names[i],c.width/4,5);
    ctx.restore();
  }
}

function spinRoulette(){
  let names=[];
  for(let i=1;i<=10;i++){
    let val=document.getElementById("r"+i).value.trim();
    if(val) names.push(val);
  }
  if(names.length<2){ alert("ìµœì†Œ 2ëª…ì„ ì…ë ¥í•˜ì„¸ìš”."); return; }

  drawRoulette(names);

  const len=names.length;
  const winnerIndex=Math.floor(Math.random()*len);
  const arcDeg=360/len;

  // ğŸ”¥ ì˜¤ë¥¸ìª½ í•€ì´ ê°€ë¦¬í‚¤ëŠ” ë¶€ë¶„ì´ ê²°ê³¼ â†’ ì˜¤ë¥¸ìª½ = 0deg ê¸°ì¤€
  const rotateDeg = 360*5 - winnerIndex*arcDeg - arcDeg/2;

  const canvas=document.getElementById("rouletteCanvas");
  canvas.style.transform=`rotate(${rotateDeg}deg)`;

  setTimeout(()=>{
    document.getElementById("rouletteResult").innerHTML=
      `ğŸ‰ ë‹¹ì²¨: <b>${names[winnerIndex]}</b>`;
  },4000);
}
</script>

</body>
</html>



